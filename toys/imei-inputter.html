<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>数字入力(桁：2-6-6-1)</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
</head>
<body>

<script>
"use strict";

let goToNext = true;
let wholeNum = "a";
let input = 0;
let i = 1
while(goToNext){
    makeNum();
    inputAndCheckNum();
    goToNext = confirm("go to next question?");    
    i++;
}
("0000000" + Math.floor(Math.random() * 1000000)).slice(-6)

function makeNum() {
const g1 = ("00" + Math.floor((Math.random() * 10) + 1)).slice(-2);
const g2 = ("000000" + Math.floor(Math.random() * 1000000)).slice(-6);
const g3 = ("000000" + Math.floor(Math.random() * 1000000)).slice(-6);
const g4 = ("0" + Math.floor((Math.random() * 10) + 1)).slice(-1);
wholeNum = g1 + "-" + g2 + "-" + g3 + "-" + g4;
}

function inputAndCheckNum(){
    input = prompt(`${i}問目\n\n${wholeNum}`);
    if(input == wholeNum){
        alert("perfect!");
        nextQ();
    } else {
        if(confirm("OK : try again \n or \n cancel : cancel this question")){
            tryAgaine();
        } else {
            goToNext = false;
        }
    }
}

function tryAgaine() {
    input = prompt(`${i}問目\n\n${wholeNum}`);
    if(input == wholeNum){
        alert("perfect!");
        nextQ();
    } else {
        if(confirm("OK : try again \n or \n cancel : cancel this question")){
            tryAgaine();
        } else {
            goToNext = false;
        }
    }
}

function nextQ() {
    alert("Next Q");
}

</script>

</body>
</html>
